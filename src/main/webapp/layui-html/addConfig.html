<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>layui</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../layui-resources/css/layui.css"  media="all">
    <!-- 注意：如果你直接复制所有代码到本地，上述css路径需要改成你本地的 -->

    <style type="text/css">

        body {
            background-color: #eeeeee;
        }

    </style>


</head>
<body>

<fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
    <legend>添加 Data X 同步配置</legend>
</fieldset>

<form class="layui-form" id="myForm">
    <div class="layui-form-item">
        <label class="layui-form-label">同步说明</label>
        <div class="layui-input-block" style="width: 502px;">
            <input type="text" name="name" lay-verify="title"
                   autocomplete="off" placeholder="请输入同步说明" class="layui-input">
        </div>
    </div>

    <div class="layui-form-item">
        <label class="layui-form-label">定时处理</label>
        <div class="layui-input-inline" style="float: left;">
            <select name="expre" lay-filter="timeDispose" >
                <option value="day">按每天</option>
                <option value="interval">按间隔</option>
            </select>
        </div>
        <div class="layui-inline" >
            <label class="layui-form-label">验证日期</label>
            <div class="layui-input-inline">
                <input type="text" name="expressDate" id="date" lay-verify="datetime"
                       placeholder="HH:mm:ss" autocomplete="off" class="layui-input">

                <input type="number" name="expressTime" id="expressTime" lay-verify="date"
                       style="display: none;" placeholder="单位为秒" autocomplete="off" class="layui-input">
            </div>
        </div>
    </div>


    <div class="layui-form-item">
        <label class="layui-form-label">同步用户名</label>
        <div class="layui-input-inline" style="float: left; ">
            <input type="text" name="outUserName" lay-verify="title"
                   autocomplete="off" placeholder="请输入同步的用户名" class="layui-input">
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">同步密码</label>
            <div class="layui-input-inline">
                <input type="password" name="outPassword" lay-verify="title"
                       autocomplete="off" placeholder="请输入同步的密码" class="layui-input">
            </div>
        </div>
    </div>


    <div class="layui-form-item">
        <label class="layui-form-label">接收用户名</label>
        <div class="layui-input-inline" style="float: left;">
            <input type="text" name="inUserName" lay-verify="title"
                   autocomplete="off" placeholder="请输入接收的用户名" class="layui-input">
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">接收密码</label>
            <div class="layui-input-inline">
                <input type="password" name="inPassword" lay-verify="title"
                       autocomplete="off" placeholder="请输入接收的密码" class="layui-input">
            </div>
        </div>
    </div>


    <div class="layui-form-item">
        <label class="layui-form-label">写入模型</label>
        <div class="layui-input-inline">
            <select name="writeMode" lay-filter="aihao" >
                <option value="insert">新增</option>
                <option value="update">更新</option>
                <option value="replace">替换</option>
            </select>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">通道数量</label>
            <div class="layui-input-inline">
                <input type="number" name="channelCount" lay-verify="title"
                       autocomplete="off" placeholder="请输入通道数量" class="layui-input">
            </div>
        </div>
    </div>

    <div class="layui-form-item">
        <label class="layui-form-label">读取名称</label>
        <div class="layui-input-inline" style="float: left;">
            <input type="text" name="title" lay-verify="title"
                   autocomplete="off" readonly="readonly" value="mysqlreader" class="layui-input">
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">写入名称</label>
            <div class="layui-input-inline">
                <input type="text" name="title" lay-verify="title"
                       autocomplete="off" readonly="readonly" value="mysqlwriter" class="layui-input">
            </div>
        </div>
    </div>

    <div class="layui-form-item">
        <label class="layui-form-label">同步前SQL</label>
        <div class="layui-input-inline" style="float: left;">
            <input type="text" name="perSql" lay-verify="title"
                   autocomplete="off" placeholder="请输入同步前执行的SQL" class="layui-input">
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">同步后SQL</label>
            <div class="layui-input-inline">
                <input type="text" name="postSql" lay-verify="title"
                       autocomplete="off" placeholder="请输入同步后执行的SQL" class="layui-input">
            </div>
        </div>
    </div>

    <div class="layui-form-item">
        <label class="layui-form-label">同步IP</label>
        <div class="layui-input-inline" style="float: left;">
            <input type="text" name="outIPAddress" lay-verify="title"
                   autocomplete="off" placeholder="请输入同步的IP地址" class="layui-input">
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">同步端口</label>
            <div class="layui-input-inline">
                <input type="text" name="outPort" lay-verify="title"
                       autocomplete="off" placeholder="请输入同步的端口" class="layui-input">
            </div>
        </div>
    </div>

    <div class="layui-form-item">
        <label class="layui-form-label">接收IP</label>
        <div class="layui-input-inline" style="float: left;">
            <input type="text" name="inIPAddress" lay-verify="title"
                   autocomplete="off" placeholder="请输入接收的IP地址" class="layui-input">
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">接收端口</label>
            <div class="layui-input-inline">
                <input type="text" name="inPort" lay-verify="title"
                       autocomplete="off" placeholder="请输入接收的端口" class="layui-input">
            </div>
        </div>
    </div>

    <div class="layui-form-item">
        <label class="layui-form-label">同步方式</label>
        <div class="layui-input-block" style="width: 502px;">
            <select name="syncMethod" lay-filter="sycMethod" >
                <option value="columnSync">列名同步</option>
                <option value="sqlSync">SQL同步</option>
            </select>
        </div>
    </div>

    <div class="layui-form-item">
        <label class="layui-form-label">同步数据库</label>
        <div class="layui-input-inline" style="float: left;">
            <input type="text" name="outDatabaseName" lay-verify="title"
                   autocomplete="off" placeholder="请输入同步的数据库名" class="layui-input">
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">接收数据库</label>
            <div class="layui-input-inline">
                <input type="text" name="inDatabaseName" lay-verify="title"
                       autocomplete="off" placeholder="请输入接收的数据库名" class="layui-input">
            </div>
        </div>
    </div>

    <div class="layui-form-item" id="columnMethod" >
        <label class="layui-form-label">同步列名</label>
        <div class="layui-input-inline" style="float: left;">
            <input type="text" name="outColumn" lay-verify="title"
                   autocomplete="off" placeholder="请输入同步的列名" class="layui-input">
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">同步表名</label>
            <div class="layui-input-inline">
                <input type="text" name="outTable" lay-verify="title"
                       autocomplete="off" placeholder="请输入同步的表名" class="layui-input">
            </div>
        </div>
    </div>

    <div class="layui-form-item">
        <label class="layui-form-label">接收列名</label>
        <div class="layui-input-inline" style="float: left;">
            <input type="text" name="inColumn" lay-verify="title"
                   autocomplete="off" placeholder="请输入接收的列名" class="layui-input">
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">接收表名</label>
            <div class="layui-input-inline">
                <input type="text" name="inTable" lay-verify="title"
                       autocomplete="off" placeholder="请输入接收的表名" class="layui-input">
            </div>
        </div>
    </div>


    <div class="layui-form-item" id="splitPk">
        <label class="layui-form-label">同步切片</label>
        <div class="layui-input-block" style="width: 502px;">
            <input type="text" name="splitPk" lay-verify="title"
                   autocomplete="off" placeholder="请输入切片列名，只支持整型列" class="layui-input">
        </div>
    </div>

    <div class="layui-form-item" id="sqlMethod" style="display:none;">
        <label class="layui-form-label">查询SQL</label>
        <div class="layui-input-block" style="width: 502px;">
            <input type="text" name="querySql" lay-verify="title"
                   autocomplete="off" placeholder="请输入同步查询的SQL" class="layui-input">
        </div>
    </div>




    <div class="layui-form-item">
        <div class="layui-input-block">
            <button class="layui-btn" type="button"
                    onclick="submitForm()" lay-filter="demo1">立即提交</button>
            <button type="reset" class="layui-btn layui-btn-primary">重置</button>
        </div>
    </div>
</form>


<script src="../js/jquery-1.8.3.min.js" charset="utf-8"></script>
<script src="../layui-resources/layui.js" charset="utf-8"></script>
<script src="../js/parent.js" charset="utf-8"></script>
<script src="../js/addDataX.js" charset="utf-8"></script>
<script>
    layui.use(['form', 'layedit', 'laydate',"jquery"], function(){
        var form = layui.form
            ,layer = layui.layer
            ,layedit = layui.layedit
            ,laydate = layui.laydate
            ,$ = layui.$;
        //时间选择器
        laydate.render({
            elem: '#date'
            ,type:'time'
        });

        form.on('select(sycMethod)', function (data) {
            //获取选中的值
            var val = data.value;
            //判断值 该展示哪一个
            if(val == "columnSync"){
                //现实填写列的部分
                $("#columnMethod").show();
                $("#splitPk").show();
                $("#sqlMethod").hide();
            }else{
                //现实填写列的部分
                $("#columnMethod").hide();
                $("#splitPk").hide();
                $("#sqlMethod").show();
            }
        });

        form.on('select(timeDispose)', function (data) {
            //获取选中的值
            var val = data.value;
            //判断值 该展示哪一个
            if(val == "day"){   //每天
                $("#expressTime").hide();
                $("#date").show();
            }else{   // 指定日期
                $("#date").hide();
                $("#expressTime").show();
            }
        });

    });

    /*$(function () {

        $("select[name='syncMethod']").change(function () {
            //获取选中的值
            var val = $(this).val();
            //判断值 该展示哪一个
            if(val == "columnSync"){
                //现实填写列的部分
                $("#columnMethod").show();
                $("#splitPk").show();
                $("#sqlMethod").hide();
            }else{
                //现实填写列的部分
                $("#columnMethod").hide();
                $("#splitPk").hide();
                $("#sqlMethod").show();
            }
        });

        $("select[name='expre']").change(function () {
            //获取选中的值
            var val = $(this).val();
            //判断值 该展示哪一个
            if(val == "all"){   //每天
                $("#expressDate").hide();
                $("#expressTime").show();
            }else{   // 指定日期
                $("#expressTime").hide();
                $("#expressDate").show();
            }
        });

    });*/




</script>

</body>
</html>